<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><link rel="icon" href="/favicon.ico"/><title>Cache</title><meta name="robots" content="index,follow"/><meta name="googlebot" content="index,follow"/><meta name="description" content="Source of all magic"/><meta property="og:title" content="Cache"/><meta property="og:description" content="Source of all magic"/><meta property="og:url" content="https://clapmyhands.com/rasdasil/notes/sjdfkeudd654lu8lteinnoe/"/><meta property="og:type" content="article"/><meta property="article:published_time" content="5/5/2024"/><meta property="article:modified_time" content="5/5/2024"/><meta property="article:tag" content="cache"/><link rel="canonical" href="https://clapmyhands.com/rasdasil/notes/sjdfkeudd654lu8lteinnoe/"/><meta name="next-head-count" content="15"/><link rel="preload" href="/_next/static/css/8e7b7e4bce421c0a.css" as="style"/><link rel="stylesheet" href="/_next/static/css/8e7b7e4bce421c0a.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-3d209faeb64f2f97.js" defer=""></script><script src="/_next/static/chunks/framework-28c999baf2863c3d.js" defer=""></script><script src="/_next/static/chunks/main-104451f3d1a5c4bc.js" defer=""></script><script src="/_next/static/chunks/pages/_app-6b338472289fe290.js" defer=""></script><script src="/_next/static/chunks/935-4dee79e80b8641c6.js" defer=""></script><script src="/_next/static/chunks/6-50972def09142ee2.js" defer=""></script><script src="/_next/static/chunks/pages/notes/%5Bid%5D-78d472fa3b924116.js" defer=""></script><script src="/_next/static/resEQcOiDKbUPhunNvbGe/_buildManifest.js" defer=""></script><script src="/_next/static/resEQcOiDKbUPhunNvbGe/_ssgManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><section class="ant-layout" style="width:100%;min-height:100%"><header class="ant-layout-header" style="position:fixed;isolation:isolate;z-index:1;width:100%;border-bottom:1px solid #d4dadf;height:64px;padding:0 24px 0 2px"><div class="ant-row ant-row-center" style="max-width:992px;justify-content:space-between;margin:0 auto"><div style="display:flex" class="ant-col ant-col-xs-20 ant-col-sm-4"></div><div class="ant-col gutter-row ant-col-xs-0 ant-col-sm-20 ant-col-md-20 ant-col-lg-19"><div class="ant-select ant-select-lg ant-select-auto-complete ant-select-single ant-select-allow-clear ant-select-show-search" style="width:100%"><div class="ant-select-selector"><span class="ant-select-selection-search"><input type="search" autoComplete="off" class="ant-select-selection-search-input" role="combobox" aria-haspopup="listbox" aria-owns="undefined_list" aria-autocomplete="list" aria-controls="undefined_list" aria-activedescendant="undefined_list_0" value=""/></span><span class="ant-select-selection-placeholder">For full text search please use the &#x27;?&#x27; prefix. e.g. ? Onboarding</span></div></div></div><div style="display:none;align-items:center;justify-content:center" class="ant-col ant-col-xs-4 ant-col-sm-4 ant-col-md-0 ant-col-lg-0"><span role="img" aria-label="menu" style="font-size:24px" tabindex="-1" class="anticon anticon-menu"><svg viewBox="64 64 896 896" focusable="false" data-icon="menu" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"></path></svg></span></div></div></header><section class="ant-layout" style="margin-top:64px;display:flex;flex-direction:row"><div class="site-layout-sidebar" style="flex:0 0 auto;width:calc(max((100% - 992px) / 2, 0px) + 200px);min-width:200px;padding-left:calc((100% - 992px) / 2)"><aside class="ant-layout-sider ant-layout-sider-dark" style="position:fixed;overflow:auto;height:calc(100vh - 64px);background-color:transparent;flex:0 0 200px;max-width:200px;min-width:200px;width:200px"><div class="ant-layout-sider-children"></div></aside></div><main class="ant-layout-content side-layout-main" style="max-width:1200px;min-width:0;display:block"><div style="padding:0 24px"><div class="main-content" role="main"><div class="ant-row"><div class="ant-col ant-col-24"><div class="ant-row" style="margin-left:-10px;margin-right:-10px"><div style="padding-left:10px;padding-right:10px" class="ant-col ant-col-xs-24 ant-col-md-18"><div><h1 id="cache">Cache<a aria-hidden="true" class="anchor-heading icon-link" href="#cache"></a></h1>
<h2 id="usage-pattern">Usage Pattern<a aria-hidden="true" class="anchor-heading icon-link" href="#usage-pattern"></a></h2>
<h3 id="read-through">Read Through<a aria-hidden="true" class="anchor-heading icon-link" href="#read-through"></a></h3>
<p>Read cache, when not found, check database, write result back to cache.
Might have issues with load on cold cache.</p>
<h3 id="write-through">Write Through<a aria-hidden="true" class="anchor-heading icon-link" href="#write-through"></a></h3>
<p>Synchronously write to database then cache.
Safe because database is written first.</p>
<h3 id="write-behind">Write Behind<a aria-hidden="true" class="anchor-heading icon-link" href="#write-behind"></a></h3>
<p>Write to cache then asynchronously write to database.
Typically faster than writing to database and supports batch write but has a chance of losing the write to database.
Possible race condition issue when handling multiple asynchronous write.</p>
<h3 id="write-invalidate">Write Invalidate<a aria-hidden="true" class="anchor-heading icon-link" href="#write-invalidate"></a></h3>
<p>Write to database then invalidate the cache.
This results in cache miss on next read.
Typically paired with <a href="#read-through">Read Through</a></p>
<h3 id="cache-warming">Cache Warming<a aria-hidden="true" class="anchor-heading icon-link" href="#cache-warming"></a></h3>
<p>Prefill cache (warming up) in preparation for high load to reduce time spent on writing to cache on miss.
This can be used on high demand key or regularly updating low demand key.</p>
<hr>
<h2 id="tags">Tags<a aria-hidden="true" class="anchor-heading icon-link" href="#tags"></a></h2>
<ol>
<li><a title="Private" href="https://wiki.dendron.so/notes/hfyvYGJZQiUwQaaxQO27q.html" target="_blank" class="private">cache (Private)</a></li>
</ol></div></div><div style="padding-left:10px;padding-right:10px" class="ant-col ant-col-xs-0 ant-col-md-6"><div><div class=""><div class="ant-anchor-wrapper dendron-toc" style="max-height:calc(100vh - 64px);z-index:1"><div class="ant-anchor"><div class="ant-anchor-ink"><span class="ant-anchor-ink-ball"></span></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#usage-pattern" title="Usage Pattern">Usage Pattern</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#read-through" title="Read Through">Read Through</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#write-through" title="Write Through">Write Through</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#write-behind" title="Write Behind">Write Behind</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#write-invalidate" title="Write Invalidate">Write Invalidate</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#cache-warming" title="Cache Warming">Cache Warming</a></div></div></div></div></div></div></div></div></div></div></div><div class="ant-divider ant-divider-horizontal" role="separator"></div><footer class="ant-layout-footer" style="padding:0 24px 24px"></footer></main></section></section></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"note":{"id":"sjdfkeudd654lu8lteinnoe","title":"Cache","desc":"","updated":1714895448746,"created":1714895171671,"tags":"cache","custom":{},"fname":"dev.cache","type":"note","vault":{"fsPath":".","selfContained":true,"name":"rasdasil"},"contentHash":"2f1036cc4877cdd9cca9799b36e435c2","links":[{"type":"frontmatterTag","from":{"fname":"dev.cache","id":"sjdfkeudd654lu8lteinnoe","vaultName":"rasdasil"},"value":"tags.cache","alias":"cache","xvault":false,"to":{"fname":"tags.cache"}}],"anchors":{"usage-pattern":{"type":"header","text":"Usage Pattern","value":"usage-pattern","line":9,"column":0,"depth":2},"read-through":{"type":"header","text":"Read Through","value":"read-through","line":11,"column":0,"depth":3},"write-through":{"type":"header","text":"Write Through","value":"write-through","line":16,"column":0,"depth":3},"write-behind":{"type":"header","text":"Write Behind","value":"write-behind","line":21,"column":0,"depth":3},"write-invalidate":{"type":"header","text":"Write Invalidate","value":"write-invalidate","line":27,"column":0,"depth":3},"cache-warming":{"type":"header","text":"Cache Warming","value":"cache-warming","line":33,"column":0,"depth":3}},"children":[],"parent":"d2lwvt1chldt9iyak0awfp0","data":{}},"body":"\u003ch1 id=\"cache\"\u003eCache\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#cache\"\u003e\u003c/a\u003e\u003c/h1\u003e\n\u003ch2 id=\"usage-pattern\"\u003eUsage Pattern\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#usage-pattern\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003ch3 id=\"read-through\"\u003eRead Through\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#read-through\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eRead cache, when not found, check database, write result back to cache.\nMight have issues with load on cold cache.\u003c/p\u003e\n\u003ch3 id=\"write-through\"\u003eWrite Through\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#write-through\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eSynchronously write to database then cache.\nSafe because database is written first.\u003c/p\u003e\n\u003ch3 id=\"write-behind\"\u003eWrite Behind\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#write-behind\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eWrite to cache then asynchronously write to database.\nTypically faster than writing to database and supports batch write but has a chance of losing the write to database.\nPossible race condition issue when handling multiple asynchronous write.\u003c/p\u003e\n\u003ch3 id=\"write-invalidate\"\u003eWrite Invalidate\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#write-invalidate\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eWrite to database then invalidate the cache.\nThis results in cache miss on next read.\nTypically paired with \u003ca href=\"#read-through\"\u003eRead Through\u003c/a\u003e\u003c/p\u003e\n\u003ch3 id=\"cache-warming\"\u003eCache Warming\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#cache-warming\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003ePrefill cache (warming up) in preparation for high load to reduce time spent on writing to cache on miss.\nThis can be used on high demand key or regularly updating low demand key.\u003c/p\u003e\n\u003chr\u003e\n\u003ch2 id=\"tags\"\u003eTags\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#tags\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003e\u003ca title=\"Private\" href=\"https://wiki.dendron.so/notes/hfyvYGJZQiUwQaaxQO27q.html\" target=\"_blank\" class=\"private\"\u003ecache (Private)\u003c/a\u003e\u003c/li\u003e\n\u003c/ol\u003e","noteIndex":{"id":"r2cwyw0x3k7wk4gxzinf28z","title":"Rasdasil","desc":"","updated":1714920711939,"created":1714894454830,"custom":{"nav_order":0,"permalink":"/"},"fname":"root","type":"note","vault":{"fsPath":".","selfContained":true,"name":"rasdasil"},"contentHash":"29e576f913f61d86e532e3ee4011e97e","links":[],"anchors":{},"children":["d2lwvt1chldt9iyak0awfp0","sklxf5e2tb2lo3aorpr5m1e","0pazmimivyireeg82859u4b","j9kbep13svebngbnucq27nr"],"parent":null,"data":{},"body":"\nRasdasil ruins is the source of all magic in the story \"The Nebula's Civilization\"\n"},"collectionChildren":null,"customHeadContent":null,"config":{"version":5,"dev":{"enablePreviewV2":true,"enableSelfContainedVaults":true},"commands":{"lookup":{"note":{"selectionMode":"extract","confirmVaultOnCreate":true,"vaultSelectionModeOnCreate":"smart","leaveTrace":false,"bubbleUpCreateNew":true,"fuzzThreshold":0.2}},"randomNote":{},"insertNoteLink":{"aliasMode":"none","enableMultiSelect":false},"insertNoteIndex":{"enableMarker":false},"copyNoteLink":{"aliasMode":"title"},"templateHierarchy":"template"},"workspace":{"vaults":[{"fsPath":".","selfContained":true,"name":"rasdasil"}],"journal":{"dailyDomain":"daily","name":"journal","dateFormat":"y.MM.dd","addBehavior":"childOfDomain"},"scratch":{"name":"scratch","dateFormat":"y.MM.dd.HHmmss","addBehavior":"asOwnDomain"},"task":{"name":"task","dateFormat":"y.MM.dd","addBehavior":"asOwnDomain","statusSymbols":{"":" ","wip":"w","done":"x","assigned":"a","moved":"m","blocked":"b","delegated":"l","dropped":"d","pending":"y"},"taskCompleteStatus":["done","x"],"prioritySymbols":{"H":"high","M":"medium","L":"low"},"todoIntegration":false,"createTaskSelectionType":"selection2link"},"graph":{"zoomSpeed":1,"createStub":false},"enableAutoCreateOnDefinition":false,"enableXVaultWikiLink":false,"enableRemoteVaultInit":true,"enableUserTags":true,"enableHashTags":true,"workspaceVaultSyncMode":"noCommit","enableAutoFoldFrontmatter":false,"enableEditorDecorations":true,"maxPreviewsCached":10,"maxNoteLength":204800,"enableFullHierarchyNoteTitle":false,"enablePersistentHistory":false},"preview":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enableFrontmatterTags":true,"enableHashesForFMTags":false,"enablePrettyRefs":true,"enableKatex":true,"automaticallyShowPreview":false},"publishing":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enablePrettyRefs":true,"enableKatex":true,"copyAssets":true,"siteHierarchies":["root"],"writeStubs":false,"siteRootDir":"docs","seo":{"title":"Rasdasil","description":"Source of all magic"},"github":{"enableEditLink":false,"editLinkText":"Edit this page on GitHub","editBranch":"main","editViewMode":"tree"},"enableSiteLastModified":true,"enableFrontmatterTags":true,"enableHashesForFMTags":false,"enableRandomlyColoredTags":true,"enableTaskNotes":true,"enablePrettyLinks":true,"searchMode":"search","siteUrl":"https://clapmyhands.com/rasdasil","siteFaviconPath":"./assets/icons/favicon.ico","logoPath":"./assets/icons/clap.svg","siteIndex":"root"}}},"__N_SSG":true},"page":"/notes/[id]","query":{"id":"sjdfkeudd654lu8lteinnoe"},"buildId":"resEQcOiDKbUPhunNvbGe","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>