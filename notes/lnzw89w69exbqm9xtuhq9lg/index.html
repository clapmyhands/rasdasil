<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><link rel="icon" href="/favicon.ico"/><title>Flaky Tests</title><meta name="robots" content="index,follow"/><meta name="googlebot" content="index,follow"/><meta name="description" content="Source of all magic"/><meta property="og:title" content="Flaky Tests"/><meta property="og:description" content="Source of all magic"/><meta property="og:url" content="https://clapmyhands.com/rasdasil/notes/lnzw89w69exbqm9xtuhq9lg/"/><meta property="og:type" content="article"/><meta property="article:published_time" content="5/5/2024"/><meta property="article:modified_time" content="5/5/2024"/><meta property="article:tag" content="testing flaky-test"/><link rel="canonical" href="https://clapmyhands.com/rasdasil/notes/lnzw89w69exbqm9xtuhq9lg/"/><meta name="next-head-count" content="15"/><link rel="preload" href="/_next/static/css/8e7b7e4bce421c0a.css" as="style"/><link rel="stylesheet" href="/_next/static/css/8e7b7e4bce421c0a.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-3d209faeb64f2f97.js" defer=""></script><script src="/_next/static/chunks/framework-28c999baf2863c3d.js" defer=""></script><script src="/_next/static/chunks/main-104451f3d1a5c4bc.js" defer=""></script><script src="/_next/static/chunks/pages/_app-6b338472289fe290.js" defer=""></script><script src="/_next/static/chunks/935-4dee79e80b8641c6.js" defer=""></script><script src="/_next/static/chunks/6-50972def09142ee2.js" defer=""></script><script src="/_next/static/chunks/pages/notes/%5Bid%5D-78d472fa3b924116.js" defer=""></script><script src="/_next/static/resEQcOiDKbUPhunNvbGe/_buildManifest.js" defer=""></script><script src="/_next/static/resEQcOiDKbUPhunNvbGe/_ssgManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><section class="ant-layout" style="width:100%;min-height:100%"><header class="ant-layout-header" style="position:fixed;isolation:isolate;z-index:1;width:100%;border-bottom:1px solid #d4dadf;height:64px;padding:0 24px 0 2px"><div class="ant-row ant-row-center" style="max-width:992px;justify-content:space-between;margin:0 auto"><div style="display:flex" class="ant-col ant-col-xs-20 ant-col-sm-4"></div><div class="ant-col gutter-row ant-col-xs-0 ant-col-sm-20 ant-col-md-20 ant-col-lg-19"><div class="ant-select ant-select-lg ant-select-auto-complete ant-select-single ant-select-allow-clear ant-select-show-search" style="width:100%"><div class="ant-select-selector"><span class="ant-select-selection-search"><input type="search" autoComplete="off" class="ant-select-selection-search-input" role="combobox" aria-haspopup="listbox" aria-owns="undefined_list" aria-autocomplete="list" aria-controls="undefined_list" aria-activedescendant="undefined_list_0" value=""/></span><span class="ant-select-selection-placeholder">For full text search please use the &#x27;?&#x27; prefix. e.g. ? Onboarding</span></div></div></div><div style="display:none;align-items:center;justify-content:center" class="ant-col ant-col-xs-4 ant-col-sm-4 ant-col-md-0 ant-col-lg-0"><span role="img" aria-label="menu" style="font-size:24px" tabindex="-1" class="anticon anticon-menu"><svg viewBox="64 64 896 896" focusable="false" data-icon="menu" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"></path></svg></span></div></div></header><section class="ant-layout" style="margin-top:64px;display:flex;flex-direction:row"><div class="site-layout-sidebar" style="flex:0 0 auto;width:calc(max((100% - 992px) / 2, 0px) + 200px);min-width:200px;padding-left:calc((100% - 992px) / 2)"><aside class="ant-layout-sider ant-layout-sider-dark" style="position:fixed;overflow:auto;height:calc(100vh - 64px);background-color:transparent;flex:0 0 200px;max-width:200px;min-width:200px;width:200px"><div class="ant-layout-sider-children"></div></aside></div><main class="ant-layout-content side-layout-main" style="max-width:1200px;min-width:0;display:block"><div style="padding:0 24px"><div class="main-content" role="main"><div class="ant-row"><div class="ant-col ant-col-24"><div class="ant-row" style="margin-left:-10px;margin-right:-10px"><div style="padding-left:10px;padding-right:10px" class="ant-col ant-col-xs-24 ant-col-md-18"><div><h1 id="flaky-tests">Flaky Tests<a aria-hidden="true" class="anchor-heading icon-link" href="#flaky-tests"></a></h1>
<p><a href="https://samsaffron.com/archive/2019/05/15/tests-that-sometimes-fail">Tests that sometimes fail - flaky test tips</a></p>
<ul>
<li><a href="#1-definition">1. Definition</a></li>
<li><a href="#2-background">2. Background</a></li>
<li><a href="#3-several-pattern-of-flakiness">3. Several pattern of Flakiness</a>
<ul>
<li><a href="#31-hard-coded-id">3.1. Hard coded id</a></li>
<li><a href="#32-random-data">3.2. Random data</a></li>
<li><a href="#33-database-execution-ordering-assumptions">3.3. Database execution ordering assumptions</a></li>
<li><a href="#34-time-assumptions">3.4. Time assumptions</a></li>
<li><a href="#35-concurrency">3.5. Concurrency</a></li>
<li><a href="#36-leaky-global-state">3.6. Leaky global state</a></li>
<li><a href="#37-assumptions-about-environment">3.7. Assumptions about environment</a></li>
</ul>
</li>
<li><a href="#4-how-to-handle-flaky-test">4. How to handle Flaky test</a></li>
</ul>
<h2 id="1-definition">1. Definition<a aria-hidden="true" class="anchor-heading icon-link" href="#1-definition"></a></h2>
<p>Sometimes when tests are written, they might become test that fails intermittently. These are called flaky test or heisentest (in relation to <a href="https://en.wikipedia.org/wiki/Heisenbug">heisenbug</a>)</p>
<h2 id="2-background">2. Background<a aria-hidden="true" class="anchor-heading icon-link" href="#2-background"></a></h2>
<p>Flaky test incurs cost not only in time spent on the pipeline, but also on developer's time.
Hence it is crucial that we either remove flakiness or fix it.
Fixing flaky tests might also result in fixing an actual bug hidden inside the code.</p>
<h2 id="3-several-pattern-of-flakiness">3. Several pattern of Flakiness<a aria-hidden="true" class="anchor-heading icon-link" href="#3-several-pattern-of-flakiness"></a></h2>
<h3 id="31-hard-coded-id">3.1. Hard coded id<a aria-hidden="true" class="anchor-heading icon-link" href="#31-hard-coded-id"></a></h3>
<p>When using database with auto increment ids, sometimes its easier for us to simply assign id and check whether it is equal to some hard coded id.
This can be further generalized as any hardcoded assumptions.
TODO: reread and fix this part</p>
<h3 id="32-random-data">3.2. Random data<a aria-hidden="true" class="anchor-heading icon-link" href="#32-random-data"></a></h3>
<p>some unexpected data/input can expose a bug or a wrong assumption deep inside the code.
This is how Fuzzy testing (or commonly known as <a href="https://en.wikipedia.org/wiki/Fuzzing">Fuzzing</a> come to be.
Fuzzy testing work by generating random data with some restriction which is used to hit the system.</p>
<h3 id="33-database-execution-ordering-assumptions">3.3. Database execution ordering assumptions<a aria-hidden="true" class="anchor-heading icon-link" href="#33-database-execution-ordering-assumptions"></a></h3>
<p>this is related to point 1 in that order should not be assumed unless explicitly ordered by the developer (no pun intended)</p>
<h3 id="34-time-assumptions">3.4. Time assumptions<a aria-hidden="true" class="anchor-heading icon-link" href="#34-time-assumptions"></a></h3>
<p>Time is one of those things that we don't usually think about testing for/about; because, how can Time fail?
However, code that is basing its logic on time can fail and code should be designed to be easily testable even against time.</p>
<p>Related to this is places where we use time.Sleep to wait on some asynchronous or background processing.
This is a typical flaky smell; not only does this make your test take longer, it's also implicit on what it's waiting for.
If the code needs to take some specific amount of time, then it should be explicit.
Otherwise, Test should not rely on sleep to wait on some correct state.
Instead, use polling or some explicit way to sync the state.
Possibly by calling a function and processing it synchronously instead of waiting on some state to be true.</p>
<h3 id="35-concurrency">3.5. Concurrency<a aria-hidden="true" class="anchor-heading icon-link" href="#35-concurrency"></a></h3>
<p>Semi-related to <a href="#time-assumptions">time assumptions</a>.
If we use background processing in test, it could result race condition.
Especially if tests are run in parallel.</p>
<h3 id="36-leaky-global-state">3.6. Leaky global state<a aria-hidden="true" class="anchor-heading icon-link" href="#36-leaky-global-state"></a></h3>
<p>Sometimes tests modifies some global state.
Unless the test suite are reset to a pristine state, there can be some modified global state between tests.
This would result in some condition being true only if tests are run in certain order.
Hence why tests should always be run in random order.</p>
<h3 id="37-assumptions-about-environment">3.7. Assumptions about environment<a aria-hidden="true" class="anchor-heading icon-link" href="#37-assumptions-about-environment"></a></h3>
<p>Remember that in the end your code are not only running locally.
It is also tested locally, in CI/CD pipeline, and running in production.
It is hard to make sure the condition is always the same (even if you use container).
There will be small differences here and there and thats why you should challenge your assumptions.
TODO: reread this part and fix</p>
<h2 id="4-how-to-handle-flaky-test">4. How to handle Flaky test<a aria-hidden="true" class="anchor-heading icon-link" href="#4-how-to-handle-flaky-test"></a></h2>
<p>Handling flaky test should be a team effort.
Assign flaky test to original test writer to fix, and give post mortem on how it come to be.
Treat it like an incident and figure out the root cause.</p>
<p>Below are several points on how to work as a team to reduce flakiness:</p>
<ol>
<li>Should be a team concern
It should be a team decision to either remove, run repeatedly, ignore, or invest time to find cause and fix</li>
<li>Stopping deployment if any test failed
Depends on urgency, when deployment timeline is tight, test can be quarantined/excluded temporarily</li>
<li>Run test in random order</li>
<li>Invest in making tests run faster
Tighter loop means it can be run faster on a loop and flaky test are found faster</li>
<li>Regularly run test suite
This can be done in asynchronous manner to actual code change to prod.
Very rare flaky test can be found if your test suite are fast and you're running it endlessly (even if say chance of happening is 1/xxxxx)</li>
<li>Add log in unexpected flaky case</li>
</ol>
<hr>
<h2 id="tags">Tags<a aria-hidden="true" class="anchor-heading icon-link" href="#tags"></a></h2>
<ol>
<li><a title="Private" href="https://wiki.dendron.so/notes/hfyvYGJZQiUwQaaxQO27q.html" target="_blank" class="private">testing flaky-test (Private)</a></li>
</ol></div></div><div style="padding-left:10px;padding-right:10px" class="ant-col ant-col-xs-0 ant-col-md-6"><div><div class=""><div class="ant-anchor-wrapper dendron-toc" style="max-height:calc(100vh - 64px);z-index:1"><div class="ant-anchor"><div class="ant-anchor-ink"><span class="ant-anchor-ink-ball"></span></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#1-definition" title="1. Definition">1. Definition</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#2-background" title="2. Background">2. Background</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#3-several-pattern-of-flakiness" title="3. Several pattern of Flakiness">3. Several pattern of Flakiness</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#31-hard-coded-id" title="3.1. Hard coded id">3.1. Hard coded id</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#32-random-data" title="3.2. Random data">3.2. Random data</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#33-database-execution-ordering-assumptions" title="3.3. Database execution ordering assumptions">3.3. Database execution ordering assumptions</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#34-time-assumptions" title="3.4. Time assumptions">3.4. Time assumptions</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#35-concurrency" title="3.5. Concurrency">3.5. Concurrency</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#36-leaky-global-state" title="3.6. Leaky global state">3.6. Leaky global state</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#37-assumptions-about-environment" title="3.7. Assumptions about environment">3.7. Assumptions about environment</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#4-how-to-handle-flaky-test" title="4. How to handle Flaky test">4. How to handle Flaky test</a></div></div></div></div></div></div></div></div></div></div></div><div class="ant-divider ant-divider-horizontal" role="separator"></div><footer class="ant-layout-footer" style="padding:0 24px 24px"></footer></main></section></section></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"note":{"id":"lnzw89w69exbqm9xtuhq9lg","title":"Flaky Tests","desc":"","updated":1714895176837,"created":1714895176837,"tags":"testing flaky-test","custom":{},"fname":"dev.test.flaky-tests","type":"note","vault":{"fsPath":".","selfContained":true,"name":"rasdasil"},"contentHash":"ee8f2f61a64ae5b70235aeba2083301e","links":[{"type":"frontmatterTag","from":{"fname":"dev.test.flaky-tests","id":"lnzw89w69exbqm9xtuhq9lg","vaultName":"rasdasil"},"value":"tags.testing flaky-test","alias":"testing flaky-test","xvault":false,"to":{"fname":"tags.testing flaky-test"}}],"anchors":{"1-definition":{"type":"header","text":"1. Definition","value":"1-definition","line":23,"column":0,"depth":2},"2-background":{"type":"header","text":"2. Background","value":"2-background","line":27,"column":0,"depth":2},"3-several-pattern-of-flakiness":{"type":"header","text":"3. Several pattern of Flakiness","value":"3-several-pattern-of-flakiness","line":33,"column":0,"depth":2},"31-hard-coded-id":{"type":"header","text":"3.1. Hard coded id","value":"31-hard-coded-id","line":35,"column":0,"depth":3},"32-random-data":{"type":"header","text":"3.2. Random data","value":"32-random-data","line":41,"column":0,"depth":3},"33-database-execution-ordering-assumptions":{"type":"header","text":"3.3. Database execution ordering assumptions","value":"33-database-execution-ordering-assumptions","line":47,"column":0,"depth":3},"34-time-assumptions":{"type":"header","text":"3.4. Time assumptions","value":"34-time-assumptions","line":51,"column":0,"depth":3},"35-concurrency":{"type":"header","text":"3.5. Concurrency","value":"35-concurrency","line":63,"column":0,"depth":3},"36-leaky-global-state":{"type":"header","text":"3.6. Leaky global state","value":"36-leaky-global-state","line":68,"column":0,"depth":3},"37-assumptions-about-environment":{"type":"header","text":"3.7. Assumptions about environment","value":"37-assumptions-about-environment","line":74,"column":0,"depth":3},"4-how-to-handle-flaky-test":{"type":"header","text":"4. How to handle Flaky test","value":"4-how-to-handle-flaky-test","line":81,"column":0,"depth":2}},"children":[],"parent":"nvpp9h448o76hbub51wpj51","data":{}},"body":"\u003ch1 id=\"flaky-tests\"\u003eFlaky Tests\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#flaky-tests\"\u003e\u003c/a\u003e\u003c/h1\u003e\n\u003cp\u003e\u003ca href=\"https://samsaffron.com/archive/2019/05/15/tests-that-sometimes-fail\"\u003eTests that sometimes fail - flaky test tips\u003c/a\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"#1-definition\"\u003e1. Definition\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#2-background\"\u003e2. Background\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#3-several-pattern-of-flakiness\"\u003e3. Several pattern of Flakiness\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"#31-hard-coded-id\"\u003e3.1. Hard coded id\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#32-random-data\"\u003e3.2. Random data\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#33-database-execution-ordering-assumptions\"\u003e3.3. Database execution ordering assumptions\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#34-time-assumptions\"\u003e3.4. Time assumptions\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#35-concurrency\"\u003e3.5. Concurrency\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#36-leaky-global-state\"\u003e3.6. Leaky global state\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#37-assumptions-about-environment\"\u003e3.7. Assumptions about environment\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#4-how-to-handle-flaky-test\"\u003e4. How to handle Flaky test\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"1-definition\"\u003e1. Definition\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#1-definition\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eSometimes when tests are written, they might become test that fails intermittently. These are called flaky test or heisentest (in relation to \u003ca href=\"https://en.wikipedia.org/wiki/Heisenbug\"\u003eheisenbug\u003c/a\u003e)\u003c/p\u003e\n\u003ch2 id=\"2-background\"\u003e2. Background\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#2-background\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eFlaky test incurs cost not only in time spent on the pipeline, but also on developer's time.\nHence it is crucial that we either remove flakiness or fix it.\nFixing flaky tests might also result in fixing an actual bug hidden inside the code.\u003c/p\u003e\n\u003ch2 id=\"3-several-pattern-of-flakiness\"\u003e3. Several pattern of Flakiness\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#3-several-pattern-of-flakiness\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003ch3 id=\"31-hard-coded-id\"\u003e3.1. Hard coded id\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#31-hard-coded-id\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eWhen using database with auto increment ids, sometimes its easier for us to simply assign id and check whether it is equal to some hard coded id.\nThis can be further generalized as any hardcoded assumptions.\nTODO: reread and fix this part\u003c/p\u003e\n\u003ch3 id=\"32-random-data\"\u003e3.2. Random data\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#32-random-data\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003esome unexpected data/input can expose a bug or a wrong assumption deep inside the code.\nThis is how Fuzzy testing (or commonly known as \u003ca href=\"https://en.wikipedia.org/wiki/Fuzzing\"\u003eFuzzing\u003c/a\u003e come to be.\nFuzzy testing work by generating random data with some restriction which is used to hit the system.\u003c/p\u003e\n\u003ch3 id=\"33-database-execution-ordering-assumptions\"\u003e3.3. Database execution ordering assumptions\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#33-database-execution-ordering-assumptions\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003ethis is related to point 1 in that order should not be assumed unless explicitly ordered by the developer (no pun intended)\u003c/p\u003e\n\u003ch3 id=\"34-time-assumptions\"\u003e3.4. Time assumptions\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#34-time-assumptions\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eTime is one of those things that we don't usually think about testing for/about; because, how can Time fail?\nHowever, code that is basing its logic on time can fail and code should be designed to be easily testable even against time.\u003c/p\u003e\n\u003cp\u003eRelated to this is places where we use time.Sleep to wait on some asynchronous or background processing.\nThis is a typical flaky smell; not only does this make your test take longer, it's also implicit on what it's waiting for.\nIf the code needs to take some specific amount of time, then it should be explicit.\nOtherwise, Test should not rely on sleep to wait on some correct state.\nInstead, use polling or some explicit way to sync the state.\nPossibly by calling a function and processing it synchronously instead of waiting on some state to be true.\u003c/p\u003e\n\u003ch3 id=\"35-concurrency\"\u003e3.5. Concurrency\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#35-concurrency\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eSemi-related to \u003ca href=\"#time-assumptions\"\u003etime assumptions\u003c/a\u003e.\nIf we use background processing in test, it could result race condition.\nEspecially if tests are run in parallel.\u003c/p\u003e\n\u003ch3 id=\"36-leaky-global-state\"\u003e3.6. Leaky global state\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#36-leaky-global-state\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eSometimes tests modifies some global state.\nUnless the test suite are reset to a pristine state, there can be some modified global state between tests.\nThis would result in some condition being true only if tests are run in certain order.\nHence why tests should always be run in random order.\u003c/p\u003e\n\u003ch3 id=\"37-assumptions-about-environment\"\u003e3.7. Assumptions about environment\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#37-assumptions-about-environment\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eRemember that in the end your code are not only running locally.\nIt is also tested locally, in CI/CD pipeline, and running in production.\nIt is hard to make sure the condition is always the same (even if you use container).\nThere will be small differences here and there and thats why you should challenge your assumptions.\nTODO: reread this part and fix\u003c/p\u003e\n\u003ch2 id=\"4-how-to-handle-flaky-test\"\u003e4. How to handle Flaky test\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#4-how-to-handle-flaky-test\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eHandling flaky test should be a team effort.\nAssign flaky test to original test writer to fix, and give post mortem on how it come to be.\nTreat it like an incident and figure out the root cause.\u003c/p\u003e\n\u003cp\u003eBelow are several points on how to work as a team to reduce flakiness:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eShould be a team concern\nIt should be a team decision to either remove, run repeatedly, ignore, or invest time to find cause and fix\u003c/li\u003e\n\u003cli\u003eStopping deployment if any test failed\nDepends on urgency, when deployment timeline is tight, test can be quarantined/excluded temporarily\u003c/li\u003e\n\u003cli\u003eRun test in random order\u003c/li\u003e\n\u003cli\u003eInvest in making tests run faster\nTighter loop means it can be run faster on a loop and flaky test are found faster\u003c/li\u003e\n\u003cli\u003eRegularly run test suite\nThis can be done in asynchronous manner to actual code change to prod.\nVery rare flaky test can be found if your test suite are fast and you're running it endlessly (even if say chance of happening is 1/xxxxx)\u003c/li\u003e\n\u003cli\u003eAdd log in unexpected flaky case\u003c/li\u003e\n\u003c/ol\u003e\n\u003chr\u003e\n\u003ch2 id=\"tags\"\u003eTags\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#tags\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003e\u003ca title=\"Private\" href=\"https://wiki.dendron.so/notes/hfyvYGJZQiUwQaaxQO27q.html\" target=\"_blank\" class=\"private\"\u003etesting flaky-test (Private)\u003c/a\u003e\u003c/li\u003e\n\u003c/ol\u003e","noteIndex":{"id":"r2cwyw0x3k7wk4gxzinf28z","title":"Rasdasil","desc":"","updated":1714920711939,"created":1714894454830,"custom":{"nav_order":0,"permalink":"/"},"fname":"root","type":"note","vault":{"fsPath":".","selfContained":true,"name":"rasdasil"},"contentHash":"29e576f913f61d86e532e3ee4011e97e","links":[],"anchors":{},"children":["d2lwvt1chldt9iyak0awfp0","sklxf5e2tb2lo3aorpr5m1e","0pazmimivyireeg82859u4b","j9kbep13svebngbnucq27nr"],"parent":null,"data":{},"body":"\nRasdasil ruins is the source of all magic in the story \"The Nebula's Civilization\"\n"},"collectionChildren":null,"customHeadContent":null,"config":{"version":5,"dev":{"enablePreviewV2":true,"enableSelfContainedVaults":true},"commands":{"lookup":{"note":{"selectionMode":"extract","confirmVaultOnCreate":true,"vaultSelectionModeOnCreate":"smart","leaveTrace":false,"bubbleUpCreateNew":true,"fuzzThreshold":0.2}},"randomNote":{},"insertNoteLink":{"aliasMode":"none","enableMultiSelect":false},"insertNoteIndex":{"enableMarker":false},"copyNoteLink":{"aliasMode":"title"},"templateHierarchy":"template"},"workspace":{"vaults":[{"fsPath":".","selfContained":true,"name":"rasdasil"}],"journal":{"dailyDomain":"daily","name":"journal","dateFormat":"y.MM.dd","addBehavior":"childOfDomain"},"scratch":{"name":"scratch","dateFormat":"y.MM.dd.HHmmss","addBehavior":"asOwnDomain"},"task":{"name":"task","dateFormat":"y.MM.dd","addBehavior":"asOwnDomain","statusSymbols":{"":" ","wip":"w","done":"x","assigned":"a","moved":"m","blocked":"b","delegated":"l","dropped":"d","pending":"y"},"taskCompleteStatus":["done","x"],"prioritySymbols":{"H":"high","M":"medium","L":"low"},"todoIntegration":false,"createTaskSelectionType":"selection2link"},"graph":{"zoomSpeed":1,"createStub":false},"enableAutoCreateOnDefinition":false,"enableXVaultWikiLink":false,"enableRemoteVaultInit":true,"enableUserTags":true,"enableHashTags":true,"workspaceVaultSyncMode":"noCommit","enableAutoFoldFrontmatter":false,"enableEditorDecorations":true,"maxPreviewsCached":10,"maxNoteLength":204800,"enableFullHierarchyNoteTitle":false,"enablePersistentHistory":false},"preview":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enableFrontmatterTags":true,"enableHashesForFMTags":false,"enablePrettyRefs":true,"enableKatex":true,"automaticallyShowPreview":false},"publishing":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enablePrettyRefs":true,"enableKatex":true,"copyAssets":true,"siteHierarchies":["root"],"writeStubs":false,"siteRootDir":"docs","seo":{"title":"Rasdasil","description":"Source of all magic"},"github":{"enableEditLink":false,"editLinkText":"Edit this page on GitHub","editBranch":"main","editViewMode":"tree"},"enableSiteLastModified":true,"enableFrontmatterTags":true,"enableHashesForFMTags":false,"enableRandomlyColoredTags":true,"enableTaskNotes":true,"enablePrettyLinks":true,"searchMode":"search","siteUrl":"https://clapmyhands.com/rasdasil","siteFaviconPath":"./assets/icons/favicon.ico","logoPath":"./assets/icons/clap.svg","siteIndex":"root"}}},"__N_SSG":true},"page":"/notes/[id]","query":{"id":"lnzw89w69exbqm9xtuhq9lg"},"buildId":"resEQcOiDKbUPhunNvbGe","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>